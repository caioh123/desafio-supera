{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/caio/Desktop/desafio/desafio-supera/src/components/GameCard.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { FontAwesome } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useCart } from \"../context/cartContext\";\nexport var GameCard = function GameCard(_ref) {\n  var item = _ref.item;\n\n  var _useCart = useCart(),\n      cart = _useCart.cart,\n      setCart = _useCart.setCart;\n\n  var onAdd = function onAdd(product) {\n    var exist = cart.find(function (cartItem) {\n      return cartItem.id === product.id;\n    });\n\n    if (exist) {\n      var test = cart.map(function (cartItem) {\n        if (cartItem.id === product.id) {\n          product.qty += 1;\n        }\n\n        product;\n      });\n      setCart(test);\n    } else {\n      setCart([].concat(_toConsumableArray(cart), [_objectSpread(_objectSpread({}, product), {}, {\n        qty: 1\n      })]));\n    }\n  };\n\n  var productQty = function productQty(product) {\n    var productInCart = cart.find(function (cartItem) {\n      console.log(cartItem);\n      return cartItem.id === product.id;\n    });\n\n    if (productInCart) {\n      return productInCart.qty;\n    }\n\n    return 0;\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    alignSelf: \"center\",\n    source: item.image,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.gameName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, item.name), React.createElement(Text, {\n    style: styles.gamePrice,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"R$ \", item.price), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return onAdd(item);\n    },\n    style: styles.btn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, React.createElement(FontAwesome, {\n    onpr: true,\n    style: {\n      paddingLeft: 10\n    },\n    name: \"cart-plus\",\n    size: 24,\n    color: \"white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }), React.createElement(Text, {\n    style: styles.textAmmount,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, productQty(item))), React.createElement(Text, {\n    style: styles.textBtn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, \"ADICIONAR AO CARRINHO\")))));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: \"column\",\n    borderRadius: 15,\n    justifyContent: \"center\",\n    height: 400,\n    backgroundColor: \"white\",\n    marginTop: 20,\n    width: 300,\n    padding: 20,\n    marginBottom: 30\n  },\n  cardContainer: {\n    flexDirection: \"row\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  btn: {\n    backgroundColor: \"rgb(173,58,16)\",\n    color: \"#fff\",\n    borderRadius: 10,\n    marginTop: 20,\n    alignItems: \"center\",\n    height: 50,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  },\n  textBtn: {\n    color: \"#fff\",\n    fontWeight: \"bold\",\n    alignSelf: \"center\",\n    paddingRight: 10\n  },\n  textAmmount: {\n    color: \"#fff\",\n    paddingLeft: 10,\n    paddingTop: 2,\n    fontSize: 18\n  },\n  gameName: {\n    color: \"black\",\n    fontSize: 21,\n    marginTop: 10\n  },\n  gamePrice: {\n    fontWeight: 'bold',\n    color: \"black\",\n    fontSize: 21,\n    marginTop: 10\n  }\n});","map":{"version":3,"sources":["/home/caio/Desktop/desafio/desafio-supera/src/components/GameCard.js"],"names":["React","useState","useEffect","FontAwesome","AsyncStorage","useCart","GameCard","item","cart","setCart","onAdd","product","exist","find","cartItem","id","test","map","qty","productQty","productInCart","console","log","styles","container","image","gameName","name","gamePrice","price","btn","flexDirection","paddingLeft","textAmmount","textBtn","StyleSheet","create","borderRadius","justifyContent","height","backgroundColor","marginTop","width","padding","marginBottom","cardContainer","alignItems","color","fontWeight","alignSelf","paddingRight","paddingTop","fontSize"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {ScrollView, Text, StyleSheet, View, FlatList, Image, TouchableOpacity} from \"react-native\"\nimport { FontAwesome } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useCart } from '../context/cartContext';\n\n\nexport const GameCard = ({item}) => {\n\n    const {cart, setCart} = useCart()\n\n\n\n\n    // useEffect(() => {\n    //      const setLocal = async () => {\n    //          await AsyncStorage.setItem(\"game\", JSON.stringify(cartItems))\n\n    //     }\n\n    //     setLocal()\n    //   }, [cartItems]);\n\n    //   useEffect(() => {\n    //     const getData = async () => {\n    //         try {\n    //             await setCartItems(JSON.parse(AsyncStorage.getItem(\"game\")) || []);\n    //         } catch(e) {\n    //         // error reading value\n    //         }\n    //     }\n        \n    //      getData()\n\n\n    //   }, [])\n\n\n\n\n    const onAdd = (product) => {\n        const exist = cart.find(cartItem => cartItem.id === product.id)\n\n\n        if(exist) {\n            const test = cart.map((cartItem) => {\n                if(cartItem.id === product.id) {\n                    product.qty += 1\n                } \n                product\n            })\n\n            setCart(test)\n        } else {\n            setCart([...cart, {...product, qty: 1}])\n        }\n    }\n\n    const productQty = (product) => {\n        const productInCart = cart.find(cartItem => {\n            console.log(cartItem)\n            return (\n                cartItem.id === product.id\n            )\n        })\n\n        if(productInCart) {\n            return productInCart.qty\n        } \n        return 0\n    }\n    \n\n    return (\n    <>\n        <View style={styles.container}>\n        <View>\n\n            <Image alignSelf={\"center\"} source={item.image}/>\n                <Text style={styles.gameName}>{item.name}</Text> \n                <Text style={styles.gamePrice}>R$ {item.price}</Text>\n                <TouchableOpacity onPress={() => onAdd(item)} style={styles.btn}>\n                    <View style={{flexDirection: \"row\"}}>\n                    <FontAwesome onpr style={{paddingLeft: 10}} name=\"cart-plus\" size={24} color=\"white\" />\n                    <Text style={styles.textAmmount}>{productQty(item)}</Text>\n                    </View>\n                    <Text style={styles.textBtn}>ADICIONAR AO CARRINHO</Text>\n                </TouchableOpacity>\n            </View>\n        </View>\n        </>\n    )\n}\n\nconst styles = StyleSheet.create({\n\n    container: {\n        flexDirection: \"column\",\n        borderRadius: 15,\n        justifyContent: \"center\",\n        height: 400,\n        backgroundColor: \"white\",\n        marginTop: 20,\n        width: 300,\n        padding: 20,\n        marginBottom: 30,\n\n    },\n    cardContainer: {\n        flexDirection: \"row\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n    },\n    btn: {\n        backgroundColor: \"rgb(173,58,16)\",\n        color: \"#fff\",\n        borderRadius: 10,\n        marginTop: 20,\n        alignItems: \"center\",\n        height: 50,\n        flexDirection: \"row\",\n        justifyContent: \"space-between\"\n    },\n    textBtn: {\n        color: \"#fff\",\n        fontWeight: \"bold\",\n        alignSelf: \"center\",\n        paddingRight: 10,\n    },\n    textAmmount: {\n        color: \"#fff\",\n        paddingLeft: 10,\n        paddingTop: 2,\n        fontSize: 18,\n\n    },\n    gameName: {\n        color: \"black\",\n        fontSize: 21,\n        marginTop: 10\n\n    },\n    gamePrice: {\n        fontWeight: 'bold',\n        color: \"black\",\n        fontSize: 21,\n        marginTop: 10\n\n    }\n\n})"]},"metadata":{},"sourceType":"module"}