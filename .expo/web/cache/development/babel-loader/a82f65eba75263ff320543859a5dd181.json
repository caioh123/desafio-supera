{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/caio/Desktop/desafio/desafio-supera/src/components/GameCard.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { FontAwesome } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useCart } from \"../context/cartContext\";\nexport var GameCard = function GameCard(_ref) {\n  var item = _ref.item;\n\n  var _useCart = useCart(),\n      cart = _useCart.cart,\n      setCart = _useCart.setCart;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      cartItems = _useState2[0],\n      setCartItems = _useState2[1];\n\n  useEffect(function () {\n    var setLocal = function setLocal() {\n      return _regeneratorRuntime.async(function setLocal$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"game\", JSON.stringify(cartItems)));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    setLocal();\n  }, [cartItems]);\n  useEffect(function () {\n    var getData = function getData() {\n      return _regeneratorRuntime.async(function getData$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(setCartItems(JSON.parse(AsyncStorage.getItem(\"game\")) || []));\n\n            case 3:\n              _context2.next = 7;\n              break;\n\n            case 5:\n              _context2.prev = 5;\n              _context2.t0 = _context2[\"catch\"](0);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 5]], Promise);\n    };\n\n    getData();\n  }, []);\n\n  var on = function on(item) {\n    setCart(item);\n  };\n\n  var onAdd = function onAdd(product) {\n    var exist = cartItems.find(function (x) {\n      return x.id === product.id;\n    });\n    var newCart = [];\n\n    if (exist) {\n      newCart = cartItems.filter(function (x) {\n        return x.id !== product.id;\n      });\n      setCartItems(newCart);\n    } else {\n      newCart;\n      setCartItems([].concat(_toConsumableArray(cartItems), [_objectSpread(_objectSpread({}, product), {}, {\n        qty: 1\n      })]));\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    alignSelf: \"center\",\n    source: item.image,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.gameName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, item.name), React.createElement(Text, {\n    style: styles.gamePrice,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"R$ \", item.price), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return on(item);\n    },\n    style: styles.btn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, React.createElement(FontAwesome, {\n    onpr: true,\n    style: {\n      paddingLeft: 10\n    },\n    name: \"cart-plus\",\n    size: 24,\n    color: \"white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }), React.createElement(Text, {\n    style: styles.textAmmount,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"0\")), React.createElement(Text, {\n    style: styles.textBtn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, \"ADICIONAR AO CARRINHO\")))));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: \"column\",\n    borderRadius: 15,\n    justifyContent: \"center\",\n    height: 400,\n    backgroundColor: \"white\",\n    marginTop: 20,\n    width: 300,\n    padding: 20,\n    marginBottom: 30\n  },\n  cardContainer: {\n    flexDirection: \"row\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  btn: {\n    backgroundColor: \"rgb(173,58,16)\",\n    color: \"#fff\",\n    borderRadius: 10,\n    marginTop: 20,\n    alignItems: \"center\",\n    height: 50,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  },\n  textBtn: {\n    color: \"#fff\",\n    fontWeight: \"bold\",\n    alignSelf: \"center\",\n    paddingRight: 10\n  },\n  textAmmount: {\n    color: \"#fff\",\n    paddingLeft: 10,\n    paddingTop: 2,\n    fontSize: 18\n  },\n  gameName: {\n    color: \"black\",\n    fontSize: 21,\n    marginTop: 10\n  },\n  gamePrice: {\n    fontWeight: 'bold',\n    color: \"black\",\n    fontSize: 21,\n    marginTop: 10\n  }\n});","map":{"version":3,"sources":["/home/caio/Desktop/desafio/desafio-supera/src/components/GameCard.js"],"names":["React","useState","useEffect","FontAwesome","AsyncStorage","useCart","GameCard","item","cart","setCart","cartItems","setCartItems","setLocal","setItem","JSON","stringify","getData","parse","getItem","on","onAdd","product","exist","find","x","id","newCart","filter","qty","styles","container","image","gameName","name","gamePrice","price","btn","flexDirection","paddingLeft","textAmmount","textBtn","StyleSheet","create","borderRadius","justifyContent","height","backgroundColor","marginTop","width","padding","marginBottom","cardContainer","alignItems","color","fontWeight","alignSelf","paddingRight","paddingTop","fontSize"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {ScrollView, Text, StyleSheet, View, FlatList, Image, TouchableOpacity} from \"react-native\"\nimport { FontAwesome } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useCart } from '../context/cartContext';\n\n\nexport const GameCard = ({item}) => {\n\n    const {cart, setCart} = useCart()\n\n\n    const [cartItems, setCartItems] = useState([])\n\n\n    useEffect(() => {\n         const setLocal = async () => {\n             await AsyncStorage.setItem(\"game\", JSON.stringify(cartItems))\n\n        }\n\n        setLocal()\n      }, [cartItems]);\n\n      useEffect(() => {\n        const getData = async () => {\n            try {\n                await setCartItems(JSON.parse(AsyncStorage.getItem(\"game\")) || []);\n            } catch(e) {\n            // error reading value\n            }\n        }\n        \n         getData()\n\n\n      }, [])\n\n      const on = (item) => {\n          setCart(item)\n      }\n\n\n\n\n\n\n    const onAdd = (product) => {\n        const exist = cartItems.find(x => x.id === product.id)\n\n        let newCart = []\n\n        if(exist) {\n            newCart = cartItems.filter((x) => x.id !== product.id)\n\n            setCartItems(newCart)\n        } else {\n            newCart\n            setCartItems([...cartItems, {...product, qty: 1}])\n        }\n    }\n    \n\n    return (\n    <>\n        <View style={styles.container}>\n        <View>\n\n            <Image alignSelf={\"center\"} source={item.image}/>\n                <Text style={styles.gameName}>{item.name}</Text> \n                <Text style={styles.gamePrice}>R$ {item.price}</Text>\n                <TouchableOpacity onPress={() => on(item)} style={styles.btn}>\n                    <View style={{flexDirection: \"row\"}}>\n                    <FontAwesome onpr style={{paddingLeft: 10}} name=\"cart-plus\" size={24} color=\"white\" />\n                    <Text style={styles.textAmmount}>0</Text>\n                    </View>\n                    <Text style={styles.textBtn}>ADICIONAR AO CARRINHO</Text>\n                </TouchableOpacity>\n            </View>\n        </View>\n        </>\n    )\n}\n\nconst styles = StyleSheet.create({\n\n    container: {\n        flexDirection: \"column\",\n        borderRadius: 15,\n        justifyContent: \"center\",\n        height: 400,\n        backgroundColor: \"white\",\n        marginTop: 20,\n        width: 300,\n        padding: 20,\n        marginBottom: 30,\n\n    },\n    cardContainer: {\n        flexDirection: \"row\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n    },\n    btn: {\n        backgroundColor: \"rgb(173,58,16)\",\n        color: \"#fff\",\n        borderRadius: 10,\n        marginTop: 20,\n        alignItems: \"center\",\n        height: 50,\n        flexDirection: \"row\",\n        justifyContent: \"space-between\"\n    },\n    textBtn: {\n        color: \"#fff\",\n        fontWeight: \"bold\",\n        alignSelf: \"center\",\n        paddingRight: 10,\n    },\n    textAmmount: {\n        color: \"#fff\",\n        paddingLeft: 10,\n        paddingTop: 2,\n        fontSize: 18,\n\n    },\n    gameName: {\n        color: \"black\",\n        fontSize: 21,\n        marginTop: 10\n\n    },\n    gamePrice: {\n        fontWeight: 'bold',\n        color: \"black\",\n        fontSize: 21,\n        marginTop: 10\n\n    }\n\n})"]},"metadata":{},"sourceType":"module"}